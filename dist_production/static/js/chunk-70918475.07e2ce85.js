(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70918475"],{"032f":function(e,t,i){"use strict";var a=i("fd6b"),l=i.n(a);l.a},a6f8:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container",staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"filter-container filter-top"},[i("el-input",{staticClass:"filter-item1 inline-block1",staticStyle:{width:"220px"},attrs:{placeholder:"标题"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),e._v(" "),i("el-input",{staticClass:"filter-item1 inline-block1",staticStyle:{width:"100px"},attrs:{placeholder:"用户ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.user_id,callback:function(t){e.$set(e.listQuery,"user_id",t)},expression:"listQuery.user_id"}}),e._v(" "),i("el-input",{staticClass:"filter-item1 inline-block1",staticStyle:{width:"90px"},attrs:{placeholder:"ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,"id",t)},expression:"listQuery.id"}}),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:"状态",clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.is_delete,callback:function(t){e.$set(e.listQuery,"is_delete",t)},expression:"listQuery.is_delete"}},e._l(e.status1,function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),i("div",{staticClass:"inline-block"},[i("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始日期"},model:{value:e.listQuery.start,callback:function(t){e.$set(e.listQuery,"start",t)},expression:"listQuery.start"}})],1),e._v(" "),i("div",{staticClass:"inline-block"},[i("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束日期"},model:{value:e.listQuery.end,callback:function(t){e.$set(e.listQuery,"end",t)},expression:"listQuery.end"}})],1),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("\n      搜索\n    ")]),e._v(" "),i("el-input",{directives:[{name:"show",rawName:"v-show",value:e.switchShow,expression:"switchShow"}],staticStyle:{width:"100px","margin-left":"15px"},on:{change:e.switchinput},model:{value:e.switchinputval,callback:function(t){e.switchinputval=t},expression:"switchinputval"}}),e._v(" "),i("el-select",{directives:[{name:"show",rawName:"v-show",value:!e.switchShow,expression:"!switchShow"}],staticClass:"filter-item",staticStyle:{width:"100px","margin-left":"15px"},attrs:{placeholder:"随机",clearable:""},model:{value:e.random,callback:function(t){e.random=t},expression:"random"}},e._l(e.random,function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.switchchange},model:{value:e.switchval,callback:function(t){e.switchval=t},expression:"switchval"}})],1),e._v(" "),i("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.toggleSelection}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户ID",prop:"user_id",align:"center",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("div",{staticClass:"userid"},[i("alluserinfo",{attrs:{data:t.user_id,row:t}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"封面图片",prop:"cover_img",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("img",{staticClass:"img-url",attrs:{src:t.cover_img,alt:""}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"标题",prop:"title",width:"110px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"链接",prop:"url",width:"160px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("video",{ref:"videourl",staticClass:"videourl",attrs:{src:t.url,id:"videourl",controls:""}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"点赞量",prop:"zans",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"分享量",prop:"shares",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"评论量",prop:"comments",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"状态",prop:"is_delete",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v("\n               "+e._s(0==i.is_delete?"启用":"已删除")+"\n        ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"时间",prop:"created_at",width:"100px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"160px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return["0"==a.is_delete?i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.level1,expression:"level1"}],attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.getstatus(a,e.event)}}},[e._v("\n          删除\n        ")]):e._e()]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pn,limit:e.listQuery.rn},on:{"update:page":function(t){return e.$set(e.listQuery,"pn",t)},"update:limit":function(t){return e.$set(e.listQuery,"rn",t)},pagination:e.getList}})],1)},l=[],s=(i("ac4d"),i("8a81"),i("ac6a"),i("bd86")),n=i("2423"),r=i("6724"),o=(i("ed08"),i("333d")),c=i("dc51"),u=[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}],d=[{key:"0",display_name:"使用中"},{key:"1",display_name:"已删除"}],p=u.reduce(function(e,t){return e[t.key]=t.display_name,e},{}),h={name:"ComplexTable",components:{Pagination:o["a"],alluserinfo:c["a"]},directives:{waves:r["a"]},filters:{statusFilter:function(e){},typeFilter:function(e){return p[e]}},data:function(){var e;return{level1:"",event:"",tableKey:0,list:null,total:0,switchval:!0,random:"",switchShow:!0,switchinputval:"",listQuery:(e={pn:1,rn:20,title:void 0,type:void 0,sort:"+id"},Object(s["a"])(e,"title",""),Object(s["a"])(e,"status",""),Object(s["a"])(e,"user_id",""),Object(s["a"])(e,"start",""),Object(s["a"])(e,"end",""),Object(s["a"])(e,"is_delete",""),Object(s["a"])(e,"id",""),e),selected:[],status1:d,calendarTypeOptions:u,statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"类型是必须的",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"时间是必须的",trigger:"change"}],title:[{required:!0,message:"标题是必须的",trigger:"blur"}]},downloadLoading:!1}},created:function(){var e=localStorage.getItem("level"),t="12";t.indexOf(e)>-1?this.level1=!0:this.level1=!1,this.getList(),this.listQuery.id=localStorage.getItem("videoid"),this.handleFilter(this.listQuery),setTimeout(function(){localStorage.setItem("videoid","")},1e4)},methods:{getList:function(){var e=this;Object(n["N"])(this.listQuery).then(function(t){console.log(t);var i=t.data.code;"200"==i&&(e.list=t.data.data.list,e.total=t.data.data.totalCnt),"401"==i&&e.$router.push({path:"/login/index"})})},gouser:function(e){console.log(e);var t=e.user_id;localStorage.setItem("userid",t),this.$router.push({path:"/users/users"})},getstatus:function(e){var t=this;console.log(e);var i=e.id,a="2";this.$confirm("是否删除该视频, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n["M"])(i,a).then(function(e){console.log(e);var i=e.data.code,a=e.data.info;"0"==i&&t.$message({type:"warning",message:a}),"200"==i&&(t.getList(),t.$message({type:"success",message:"删除成功!"})),"403"==i&&t.$message({type:"danger",message:"无权操作!"}),"401"==i&&t.$router.push({path:"/login/index"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleFilter:function(){this.listQuery.pn=1,this.getList(this.listQuery)},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},toggleSelection:function(e){},switchchange:function(e){console.log(e),this.switchShow=e},switchinput:function(e){console.log(e)},sortChange:function(e){},sortByID:function(e){},resetTemp:function(){this.temp={id:void 0,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},createData:function(){var e=this;this.$refs["dataForm"].validate(function(t){t&&(e.temp.id=parseInt(100*Math.random())+1024,e.temp.author="LZXX-admin",Object(n["r"])(e.temp).then(function(){e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})}))})},updateData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(t){var i=Object.assign({},e.temp);i.timestamp=+new Date(i.timestamp),Object(n["G"])(i).then(function(){var t=!0,i=!1,a=void 0;try{for(var l,s=e.list[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var n=l.value;if(n.id===e.temp.id){var r=e.list.indexOf(n);e.list.splice(r,1,e.temp);break}}}catch(o){i=!0,a=o}finally{try{t||null==s.return||s.return()}finally{if(i)throw a}}e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})})}})},handleDelete:function(e){this.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3});var t=this.list.indexOf(e);this.list.splice(t,1)},formatJson:function(e,t){}}},m=h,v=(i("032f"),i("2877")),y=Object(v["a"])(m,a,l,!1,null,"3f78beaa",null);t["default"]=y.exports},fd6b:function(e,t,i){}}]);