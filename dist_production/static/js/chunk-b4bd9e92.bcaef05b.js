(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4bd9e92"],{"24bd":function(e,t,i){"use strict";var a=i("c0f8"),l=i.n(a);l.a},"8fdc":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container",staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:"搜索手机号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.mobile,callback:function(t){e.$set(e.listQuery,"mobile",t)},expression:"listQuery.mobile"}}),e._v(" "),i("el-input",{staticClass:"filter-item1 inline-block1",staticStyle:{width:"100px"},attrs:{placeholder:"用户ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,"id",t)},expression:"listQuery.id"}}),e._v(" "),i("el-input",{staticClass:"filter-item1 inline-block1",staticStyle:{width:"100px"},attrs:{placeholder:"昵称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.nickname,callback:function(t){e.$set(e.listQuery,"nickname",t)},expression:"listQuery.nickname"}}),e._v(" "),i("el-input",{staticClass:"filter-item1 inline-block1",staticStyle:{width:"100px"},attrs:{placeholder:"IP"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.ip,callback:function(t){e.$set(e.listQuery,"ip",t)},expression:"listQuery.ip"}}),e._v(" "),i("el-select",{staticClass:"filter-item1 margin",staticStyle:{width:"110px"},attrs:{placeholder:"状态",clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.cashfrom,function(e){return i("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),i("div",{staticClass:"inline-block"},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期"},model:{value:e.listQuery.start,callback:function(t){e.$set(e.listQuery,"start",t)},expression:"listQuery.start"}})],1),e._v(" "),i("div",{staticClass:"inline-block"},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束日期"},model:{value:e.listQuery.end,callback:function(t){e.$set(e.listQuery,"end",t)},expression:"listQuery.end"}})],1),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("\n      搜索\n    ")])],1),e._v(" "),i("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"用户ID",prop:"id",align:"center",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("div",[i("alluserinfo",{attrs:{data:t.id,row:t}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"用户名",prop:"nickname",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"头像",prop:"nickname",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("img",{staticClass:"img-url",attrs:{src:t.avatar,alt:""}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"性别",prop:"gender",width:"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v("\n               "+e._s(1==i.gender?"女":"男")+"\n        ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"ip",prop:"reg_ip",width:"130px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"身份",prop:"identity",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"系统",prop:"os",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"手机号",prop:"mobile",align:"center",width:"120px"}}),e._v(" "),i("el-table-column",{attrs:{label:"地区",prop:"city",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v("\n               "+e._s(""==i.city?"未填写地区":i.city)+"\n          ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"注册地区",prop:"reg_addr",align:"center",width:"110px"}}),e._v(" "),i("el-table-column",{attrs:{label:"时间",prop:"created_at",align:"center",width:"160px"}}),e._v(" "),i("el-table-column",{attrs:{label:"账号状态",prop:"status",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v("\n               "+e._s("1"==i.status?"启用":"已禁用")+"\n          ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return["1"==a.status?i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.level1,expression:"level1"}],attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.changestatus(a,e.event)}}},[e._v("\n          禁用\n        ")]):i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.level1,expression:"level1"}],attrs:{type:"success",size:"mini"},on:{click:function(t){return e.changestatus1(a,e.event)}}},[e._v("\n          启用\n        ")])]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pn,limit:e.listQuery.rn},on:{"update:page":function(t){return e.$set(e.listQuery,"pn",t)},"update:limit":function(t){return e.$set(e.listQuery,"rn",t)},pagination:e.getList}}),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(t){e.dialogPvVisible=t}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pvData,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"key",label:"Channel"}}),e._v(" "),i("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogPvVisible=!1}}},[e._v("Confirm")])],1)],1)],1)},l=[],n=i("2423"),s=i("6724"),r=(i("ed08"),i("333d")),o=i("dc51"),c=[{key:2,display_name:"禁用"},{key:1,display_name:"启用"}],u={name:"ComplexTable",components:{Pagination:r["a"],alluserinfo:o["a"]},directives:{waves:s["a"]},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return calendarTypeKeyValue[e]}},data:function(){return{level1:"",event:"",tableKey:0,list:[],total:0,listQuery:{pn:1,rn:20,id:void 0,type:void 0,type1:void 0,sort:"+id",nickname:"",mobile:"",status:"",start:"",end:"",ip:""},cashfrom:c,sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"查看详情",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},created:function(){var e=localStorage.getItem("level"),t="12";t.indexOf(e)>-1?this.level1=!0:this.level1=!1,this.getList(),this.listQuery.id=localStorage.getItem("userid"),console.log(this.id),this.handleFilter(this.listQuery),setTimeout(function(){localStorage.setItem("userid","")},1e4)},methods:{getList:function(){var e=this;Object(n["L"])(this.listQuery).then(function(t){console.log(t);var i=t.data.code;"200"==i&&(e.list=t.data.data.list,e.total=t.data.data.totalCnt),"401"==i&&e.$router.push({path:"/login/index"})})},gouser:function(e){console.log(e);var t=e.id;localStorage.setItem("userid",t),this.$router.push({path:"/wallet/wallet"})},changestatus:function(e){var t=this;console.log(e);var i=e.id,a=(e.currentTarget,"2");this.$confirm("是否禁用该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n["i"])(i,a).then(function(e){var i=e.data.code,a=e.data.info;"0"==i&&t.$message({type:"warning",message:a}),"200"==i&&(t.getList(),t.$message({type:"success",message:"禁用成功!"})),"403"==i&&t.$message({type:"danger",message:"无权操作!"}),"401"==i&&t.$router.push({path:"/login/index"})})}).catch(function(){console.log("1111",t),t.$message({type:"info",message:"已取消禁用"})})},changestatus1:function(e){var t=this;console.log(e);var i=e.id,a=(e.currentTarget,"1");this.$confirm("是否启用该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n["i"])(i,a).then(function(e){console.log(e);var i=e.data.code;"0"==i&&alert("未查询到该用户"),"200"==i&&(t.getList(),t.$message({type:"success",message:"启用成功!"})),"401"==i&&t.$router.push({path:"/login/index"})})}).catch(function(){t.$message({type:"info",message:"已取消启用"})})},handleFilter:function(){console.log("执行le"),this.listQuery.pn=1,this.getList(this.listQuery)},handleModifyStatus:function(e,t){this.dialogFormVisible=!0}}},d=u,p=(i("24bd"),i("2877")),y=Object(p["a"])(d,a,l,!1,null,"c7886a76",null);t["default"]=y.exports},c0f8:function(e,t,i){}}]);